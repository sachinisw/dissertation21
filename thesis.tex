%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Colorado State University LaTeX Thesis Template and Documentation
%
% by
%   Elliott Forney
%   2017
%
% This is free and unencumbered software released into the public domain.
% 
% Anyone is free to copy, modify, publish, use, compile, sell, or
% distribute this software, either in source code form or as a compiled
% binary, for any purpose, commercial or non-commercial, and by any
% means.
% 
% In jurisdictions that recognize copyright laws, the author or authors
% of this software dedicate any and all copyright interest in the
% software to the public domain. We make this dedi`cation for the benefit
% of the public at large and to the detriment of our heirs and
% successors. We intend this dedication to be an overt act of
% relinquishment in perpetuity of all present and future rights to this
% software under copyright law.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
% EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
% MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
% IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR
% OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
% ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
% OTHER DEALINGS IN THE SOFTWARE.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% use the thesis document class
% this is derived from the standard book class
% and supports many of the same features
%\documentclass[master]{thesis}
%\documentclass[master,showframe]{thesis} % showframe helps troubleshoot margins
\documentclass[doctor]{thesis} % for a dissertation
%\documentclass[bachelor]{thesis} % for an honor's thesis
% fonts
% use times font by default but you can choose a
% different font if you would like
%\usepackage{fourier} % fourier is also a nice choice
\usepackage{helvet} % sans-serif helvetica works too
%\renewcommand\familydefault{\sfdefault}
% ams math packages
\usepackage[cmex10]{amsmath}
\usepackage{amsthm,amssymb}
% graphics packages
\usepackage[pdftex]{graphicx} % remove pdftex if you are not compiling to pdf
\graphicspath{{./figures/}} % this places all graphics in the figures subdirectory
% allowed graphics extensions
% uncomment if you prefer to add extension in \includegraphics
\DeclareGraphicsExtensions{.pdf,.png,.jpg}
% allows the creation of subfigures
\usepackage[caption=false]{subfig}
% book tables are simple and look nice
\usepackage{booktabs}
% for specifying urls and links
\usepackage{url}
\urlstyle{same} % same style as regular text
% citation and reference formatting
\usepackage{apacite} % apa style citations, also change bibliographystyle below
%\usepackage{cite} % math and engineering style citations
\usepackage{algorithmicx}
\usepackage{times}
\usepackage{multirow}
\usepackage{helvet}
\usepackage{courier}
\usepackage{graphicx}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\newcommand{\smallurl}[1]{\scriptsize{\url{#1}}}
\usepackage{verbatim}
\usepackage{tabularx}
\usepackage[normalem]{ulem}
\usepackage{float}
\usepackage{subfig}
\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{supertabular}
\usepackage{amsmath}
% define custom commands for creating references
% for tables, figures, equations and such
\newcommand{\RomanNumeralCaps}[1]
    {\MakeUppercase{\romannumeral #1}}
\newcommand{\eref}[1]{\eqref{#1}}        % cite equation
\newcommand{\fref}[1]{Figure~\ref{#1}}   % cite figure
\newcommand{\cref}[1]{Chapter~\ref{#1}}  % cite chapter
\newcommand{\sref}[1]{Section~\ref{#1}}  % cite section/sub(sub)section
\newcommand{\aref}[1]{Appendix~\ref{#1}} % cite appendix
\newcommand{\tref}[1]{Table~\ref{#1}}    % cite table
\newcommand{\dref}[1]{Definition~\ref{#1}} % cite definition
% commands from AAAI paper format
\DeclareMathAlphabet\mathbfcal{OMS}{cmsy}{b}{n}
% Use the postscript times font!
\newenvironment{smallenum}{\setlength{\topsep}{0.0 truein}\begin{enumerate} 
   \setlength{\leftmargin}{.25 truein}
   \setlength{\parsep}{0.0 truein}
   \setlength{\parskip}{0.0 truein}
   \setlength{\itemsep}{0.0 truein}}{\end{enumerate}}
\newenvironment{smalldesc}{\setlength{\topsep}{0.0 truein}\begin{description} 
   \setlength{\leftmargin}{.25 truein}
   \setlength{\parsep}{0.0 truein}
   \setlength{\parskip}{0.0 truein}
   \setlength{\itemsep}{0.0 truein}}{\end{description}}
\usepackage[dvipsnames,svgnames]{xcolor}
%known valid colors include: red, blu, ForestGreen, cyan, DarkOrchid

%mak: list with no symbol
\newenvironment{simplelist}{
 \begin{list}{}
  {\setlength{\itemsep}{1pt}
   \setlength{\parsep}{1pt}
   \setlength{\topsep}{2pt}
   \setlength{\partopsep}{1pt}
   \setlength{\leftmargin}{3em}
   \setlength{\labelwidth}{3em}
   \setlength{\labelsep}{0.6em}}}
  {\end{list}}
%mak: list with a dash
\newenvironment{dashlist}{
 \begin{list}{-}
  {\setlength{\itemsep}{0pt}
   \setlength{\parsep}{0pt}
   \setlength{\topsep}{0pt}
   \setlength{\partopsep}{1pt}
   \setlength{\leftmargin}{1.5em}
   \setlength{\labelwidth}{2em}
   \setlength{\labelsep}{0.6em}}}
  {\end{list}}
\usepackage{amsthm}
\theoremstyle{plain}
\newtheorem{definition}{Definition}
\frenchspacing
\setlength{\pdfpagewidth}{8.5in}
\setlength{\pdfpageheight}{11in} 

\input{interventionMacros}

%colors
\definecolor{light-gray}{gray}{0.95} 
%
% Title Page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% title of your thesis
\title{Helping Humans and Agents Avoid Undesirable Consequences with Models of Intervention}
%
%% author's name
\author{Sachini Situmini Weerawardhana}
%
%% author's email address
%\email{sachini@cs.colostate.edu}
%
%% department name
\department{Department of Computer Science}
%
%% semester of completion
\semester{Fall 2021}
%
%% committee member names
\advisor{Darrell Whitley}
\committee{Indrajit Ray}
\committee{Sangmi Pallickara}
\committee{Francisco Ortega}
\committee{Carol Seger} 
% Copyright Page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% here is an example of student copyright declaration
% note that the \copyright command prints the copyright symbol,
% so we use the name \mycopyright instead
\mycopyright{%
Copyright by Sachini Situmini Weerawardhana 2021 \\
All Rights Reserved
}
% here is an example of a creative commons copyright license
% ask the graduate school for more information, if you are interested
%\mycopyright{%
%This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 United States License.
%
%\vspace{3em}
%
%To view a copy of this license, visit:
%
%\vspace{2em}
%
%\url{http://creativecommons.org/licenses/by-nc-nd/4.0/legalcode}
%
%\vspace{3em}
%
%Or send a letter to:
%
%\vspace{2em}
%
%Creative Commons
%
%171 Second Street, Suite 300
%
%San Francisco, California, 94105, USA.
%}
% Abstract
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\abstract{%
When working in an unfamiliar online environment,  it can be helpful to have an observer that can intervene and guide a user toward a desirable outcome while avoiding undesirable outcomes or frustration.
The {\em Intervention Problem} is deciding when to intervene in order to help a user.
The Intervention Problem is similar to, but distinct from, Plan Recognition because the observer must not only recognize the intended goals of a user but also when to intervene to help the user when necessary.
In this dissertation, we formalize a family of intervention problems to address two sub-problems: (1) \textbf{The Intervention Recognition Problem}, and (2) \textbf{The Intervention Recovery Problem}.

The Intervention Recognition Problem views the environment as a state transition system where an agent (or a human user), in order to achieve a desirable outcome, executes actions that change the environment from one state to the next.
Some states in the environment are undesirable and the user does not have the ability to recognize them and the intervening agent wants to help the user in the environment avoid the undesirable state.
In this dissertation, we model the environment as a classical planning problem and discuss three intervention models to address the Intervention Recognition Problem.
The three models address different dimensions of the Intervention Recognition Problem, specifically the actors in the environment, information hidden from the intervening agent, type of observations and noise in the observations.

The first model: \textbf{Intervention by Recognizing Actions Enabling Multiple Undesirable Consequences}, is motivated by a study where we observed how home computer users practice cyber-security and take action to unwittingly put their online safety at risk.
The model is defined for an environment where three agents: the user, the attacker and the intervening agent are present.
The intervening agent helps the user reach a desirable goal that is hidden from the intervening agent by recognizing critical actions that enable multiple undesirable consequences.
We view the problem of recognizing critical actions as a multi-factor decision problem of three domain-independent metrics: certainty, timeliness and desirability.
The three metrics simulate the trade-off between the safety and freedom of the observed agent when selecting critical actions to intervene.

The second model: \textbf{Intervention as Classical Planning}, we model scenarios where the intervening agent observes a user and a competitor attempting to achieve different goals in the same environment.
A key difference in this model compared to the first model is that the intervening agent is aware of the user's desirable goal and the undesirable state.
The intervening agent exploits the classical planning representation of the environment and uses automated planning to project the possible outcomes in the environment exactly and approximately.
To recognize when intervention is required, the observer analyzes the plan suffixes leading to the user's desirable goal and the undesirable state and learns the differences between the plans that achieve the desirable goal and plans that achieve the undesirable state using machine learning.
Similar to the first model, learning the differences between the safe and unsafe plans allows the intervening agent to balance specific actions with those that are necessary for the user to allow some freedom.

The third model: \textbf{Human-aware Intervention}, we assume that the user is a human solving a cognitively engaging planning task.
When human users plan, unlike an automated planner, they do not have the ability to use heuristics to search for the best solution.
They often make mistakes and spend time exploring the search space of the planning problem.
The complication this adds to the Intervention Recognition Problem is that deciding to intervene by analyzing plan suffixes generated by an automated planner is no longer feasible.
Using a cognitively engaging puzzle solving task (Rush Hour) we study how human users solve the puzzle as a planning task and develop the Human-aware Intervention model combining automated planning and machine learning.
The intervening agent uses a domain specific feature set more appropriate for human behavior to decide in real time whether to intervene the human user.

Our experiments using the benchmark planning domains and human subject studies show that the three intervention recognition models out performs existing plan recognition algorithms in predicting when intervention is required.

Our solution to address the Intervention Recovery Problem goes beyond the typical preventative measures to help the human user recover from intervention.
We propose the \textbf{Interactive Human-aware Intervention} where a human user solves a cognitively engaging planning task with the assistance of an agent that implements the Human-aware Intervention.
The Interactive Human-aware Intervention is different from typical preventive measures where the agent executes actions to modify the domain such that the undesirable plan can not progress (e.g., block an action).
Our approach interactively guides the human user toward the solution to the planning task by revealing information about the remaining planning task.
We evaluate the effectiveness of the Interactive Human-aware Intervention using both subjective and objective measures in a human subject study.
}
% Acknowledgments 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\acknowledgements{%
I would like express my deepest gratitude to Prof. Darrell Whitley, Dr. Mark Roberts and Dr. Indrajit Ray for their guidance, encouragement and insightful discussions during my long winded PhD journey, without whom this would not have become a reality.

I fondly remember my late advisor Prof. Adele Howe; my mentor and my friend until 2017.
Thank you for your courage, patience and above all for being a wonderful human being.
I miss you.
May you find peace.

Thank you to my husband for everything you have had to put up with in the past few years, from bringing me late night dinners to listening to my incessant complaints.

Thank you to my parents for getting me this far in life.
I think I can take things from here.
I will try not to disappoint you.

Many thanks to all my friends in the Sri Lankan CSU student community in Fort Collins: Thilina, Waruna, Navini, Amila ayya, Vidarshana ayya, Sachintha, Shashika, Jana, Laksheen, Shamila and Miyuru.
I am forever grateful to all the support you have given me throughout the years, not to mention ``the entertainment'' and the delicious food.

Thank you to anyone and everyone who knew that I was doing this and lent a hand in word or action. I appreciate all of you.
}
% Metadata
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% consider using hyperref to insert pdf metadata and make links clickable
% this is nice but can cause tricky problems, use at your own risk
%\usepackage[pdfpagelabels,pdfusetitle,colorlinks=false,pdfborder={0 0 0}]{hyperref}
\begin{document} % preamble is complete, add any custom packages above
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter % starts preliminary pages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\maketitle              % insert title page
\makemycopyright        % insert copyright page
\makeabstract           % insert abstract page
\makeacknowledgements   % insert acknowledgements page
% any extra preliminary pages can be added here
% below is an example of a dedication page
% the dedication page is optional
%\prelimtocentry{Dedication} % add table of contents entry
%\begin{flatcenter} % center without extra space
%
%    % page title
%    DEDICATION
%
%    %\vspace{3em} % place at top
%    \vfill % or center on page
%
%    \noindent \textit{I would like to dedicate this thesis to my dog fluffy.}
%    \vfill % fill extra space at bottom
%\end{flatcenter}
%%\newpage
%
\tableofcontents    % insert table of contents
\listoftables       % insert list of tables (optional)
\listoffigures      % insert list of figures (optional)
\mainmatter % starts thesis body
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{ch1}

\input{ch2}

\input{ch3}

\input{ch4}

\input{ch5}

\input{ch6}

\input{ch7}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Appendices
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\backmatter % starts unnumbered supplementary material
\appendix
\input{ap1}
\input{ap2}
\input{ap3}
\input{ap4}
\input{ap5}
\input{ap6}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% unsorted BibTeX style
% check here for more:  https://www.sharelatex.com/learn/Bibtex_bibliography_styles
\newpage
\bibliographystyle{apacite} % apa style bibliography
\bibliography{refsicaps19.bib}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
